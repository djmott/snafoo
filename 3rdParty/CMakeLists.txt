
ExternalProject_Add(XTL
  GIT_REPOSITORY https://github.com/djmott/xtl.git
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/XTL
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/XTL/prefix
  BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/XTL/bin
  STAMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/XTL/stamp
  TMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/XTL/tmp
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/XTL/install
  CMAKE_GENERATOR ${CMAKE_GENERATOR}
  CMAKE_GENERATOR_PLATFORM ${CMAKE_GENERATOR_PLATFORM}
  CMAKE_GENERATOR_TOOLSET ${CMAKE_GENERATOR_TOOLSET}
  BUILD_IN_SOURCE 0
  INSTALL_COMMAND ""
  GIT_PROGRESS 0
)

set(XTL_BIN_DIR "${CMAKE_CURRENT_BINARY_DIR}/XTL/bin" PARENT_SCOPE)

ExternalProject_ADD(SQLite
  URL https://www.sqlite.org/src/tarball/sqlite.tar.gz?r=release
  DOWNLOAD_NAME sqlite.tar.gz
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/SQLite
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/SQLite/prefix
  BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/SQLite/bin
  STAMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/SQLite/stamp
  TMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/SQLite/tmp
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/SQLite/install
  CONFIGURE_COMMAND ${CMAKE_CURRENT_SOURCE_DIR}/SQLite/configure --prefix=${CMAKE_CURRENT_BINARY_DIR}/SQLite/install --disable-tcl --enable-static --disable-shared
  BUILD_COMMAND make
  BUILD_IN_SOURCE 0
  INSTALL_COMMAND make install
  DOWNLOAD_NO_PROGRESS 1
  )

set(SQLITE_BIN_DIR "${CMAKE_CURRENT_BINARY_DIR}/SQLite/bin" PARENT_SCOPE)


ExternalProject_Add(CppSQLite3
  DEPENDS SQLite
  GIT_REPOSITORY https://github.com/neosmart/CppSQLite.git
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/CppSQLite3
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/CppSQLite3/prefix
  BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/CppSQLite3/bin
  STAMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/CppSQLite3/stamp
  TMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/CppSQLite3/tmp
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/CppSQLite3/install
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""
  GIT_PROGRESS 0
  )

ExternalProject_ADD(AngelScript
  SVN_REPOSITORY http://svn.code.sf.net/p/angelscript/code/trunk
  SVN_TRUST_CERT 1
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/AngelScript
  SOURCE_SUBDIR sdk/angelscript/projects/cmake
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/AngelScript/prefix
  BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/AngelScript/bin
  STAMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/AngelScript/stamp
  TMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/AngelScript/tmp
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/AngelScript/install
  CMAKE_GENERATOR ${CMAKE_GENERATOR}
  CMAKE_GENERATOR_PLATFORM ${CMAKE_GENERATOR_PLATFORM}
  CMAKE_GENERATOR_TOOLSET ${CMAKE_GENERATOR_TOOLSET}
  BUILD_IN_SOURCE 0
  INSTALL_COMMAND ""
  DOWNLOAD_NO_PROGRESS 1
  )

set(ANGELSCRIPT_BIN_DIR "${CMAKE_CURRENT_BINARY_DIR}/AngelScript/bin" PARENT_SCOPE)

ExternalProject_ADD(JITCompiler
  DEPENDS AngelScript
  GIT_REPOSITORY https://github.com/BlindMindStudios/AngelScript-JIT-Compiler.git
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/JITCompiler
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/JITCompiler/prefix
  BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/JITCompiler/bin
  STAMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/JITCompiler/stamp
  TMP_DIR ${CMAKE_CURRENT_BINARY_DIR}/JITCompiler/tmp
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/JITCompiler/install
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""
  GIT_PROGRESS 0
  )

set(JITCOMPILER_SRC_DIR "${CMAKE_CURRENT_SOURCE_DIR}/JITCompiler" PARENT_SCOPE)
